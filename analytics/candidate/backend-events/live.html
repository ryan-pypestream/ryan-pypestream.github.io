<!DOCTYPE html>
<html lang="en">
<head>
    <script>
      const config = {
        pageHeader: 'Analytics Backend Events - Live',
        project: 'Analytics Backend Events',
        dataset: 'Production',
        host: 'https://analytics.candidate.pypestream.dev',
        eventsLink: 'https://analytics.candidate.pypestream.dev/events/4208',
        apiKey: 'phc_DjMCgfnRUflsptt4qETWxOmpvf2QpLFyBRiDaAir3uK',
        appId: 'be3284e9-39fd-4128-b149-dc3067730d1a',
        launcherUrl: 'https://web.candidate.pypestream.dev/launcher.js',
        hostPageLoadTime: new Date().toISOString(),
      };
    </script>
    <script>
    !function(t,e){var o,n,p,r;e.__SV||(window.posthog=e,e._i=[],e.init=function(i,s,a){function g(t,e){var o=e.split(".");2==o.length&&(t=t[o[0]],e=o[1]),t[e]=function(){t.push([e].concat(Array.prototype.slice.call(arguments,0)))}}(p=t.createElement("script")).type="text/javascript",p.async=!0,p.src=s.api_host+"/static/array.js",(r=t.getElementsByTagName("script")[0]).parentNode.insertBefore(p,r);var u=e;for(void 0!==a?u=e[a]=[]:a="posthog",u.people=u.people||[],u.toString=function(t){var e="posthog";return"posthog"!==a&&(e+="."+a),t||(e+=" (stub)"),e},u.people.toString=function(){return u.toString(1)+".people (stub)"},o="capture identify alias people.set people.set_once set_config register register_once unregister opt_out_capturing has_opted_out_capturing opt_in_capturing reset isFeatureEnabled onFeatureFlags getFeatureFlag getFeatureFlagPayload reloadFeatureFlags group updateEarlyAccessFeatureEnrollment getEarlyAccessFeatures getActiveMatchingSurveys getSurveys".split(" "),n=0;n<o.length;n++)g(u,o[n]);e._i.push([i,s,a])},e.__SV=1)}(document,window.posthog||[]);
    posthog.init(config.apiKey,
        {
            api_host:config.host,
            session_recording: {
                recordCrossOriginIframes: true,
            },
            loaded: function (ph) {
                ph.register_once({
                    // add the current UTC time in ISO format
                    'Host Page Load Time': config.hostPageLoadTime,
                })
            },
        }
    )
</script>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" href="styles.css">
    <title>Analytics Backend Events</title>
    <style>
      /* Styles go here */
      table {
        width: 100%;
        border-collapse: collapse;
      }
      th, td {
        border: 1px solid #ddd;
        padding: 8px;
      }
      th {
        background-color: #f4f4f4;
        text-align: left;
      }
    </style>

</head>
<body>
  <h1><script>document.write(config.pageHeader);</script></h1>
  <h2>Config:</h2>
  <table>
    <thead>
      <tr>
        <th>Config Name</th>
        <th>Value</th>
      </tr>
    </thead>
    <tbody>
      <tr>
        <td>Project</td>
        <td><script>document.write(config.project);</script></td>
      </tr>
      <tr>
        <td>Dataset</td>
        <td><script>document.write(config.dataset);</script></td>
      </tr>
      <tr>
        <td>Event Explorer</td>
        <td><script>document.write("<a href='" + config.eventsLink + "'>" + config.eventsLink + "</a>");</script></td>
      </tr>
      <tr>
        <td>Host</td>
        <td><script>document.write(config.host);</script></td>
      </tr>
      <tr>
        <td>API Key</td>
        <td><script>document.write(config.apiKey);</script></td>
      </tr>
      <tr>
        <td>APP_ID</td>
        <td><script>document.write(config.appId);</script></td>
      </tr>
      <tr>
        <td>Launcher URL</td>
        <td><script>document.write(config.launcherUrl);</script></td>
      </tr>
      <tr>
          <td>Host Page Load Time</td>
          <td><script>document.write(config.hostPageLoadTime);</script></td>
      </tr>
    </tbody>
  </table>

  <div id="chat-container" class="chat-container"></div>
  <script>
    window.pypestreamConfig = {
      APP_ID: config.appId,
      first_name: '',
      last_name: 'Visitor',
      phone: '',
      email: '',
      screen_name: 'Screen 1',
      token: '',
      passthrough: '',
      language: 'en',
      play_chime: false,
      analytics_key: config.apiKey,
      analytics_host: config.host
    };

    function insertScript() {
      const script = document.createElement('script');
      script.type = 'text/javascript';
      script.src = `${config.launcherUrl}?ts=${Date.now()}`;
      script.async = true;
      document.body.appendChild(script);
    }

    if (document.readyState === 'complete') {
      insertScript();
    } else {
      window.addEventListener('load', insertScript);
    }
  </script>
</body>
</html>
